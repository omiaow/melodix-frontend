import { useState, useEffect } from "react";
import { useNavigate, useLocation  } from "react-router-dom";

function Navigation() {
    const active = "#2990FF";
    const passive = "#A2ACB0";

    const [page, setPage] = useState("tasks");
    
    const navigate = useNavigate();
    const location = useLocation();

    useEffect(() => {
        setPage(location.pathname);
    }, [location.pathname]); 

    const handleClick = (route) => {
        navigate(route);
        setPage(route);
    };

    return (
        <div className="navigator">
            <div onClick={() => handleClick("/tasks")} className="button_area">
                <svg style={{ marginTop: "10px" }} width="19" height="25" viewBox="0 0 19 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fillRule="evenodd" clipRule="evenodd" d="M9.73381 2.58918C9.26624 2.58918 8.88719 2.96823 8.88719 3.43581V3.96017H10.5804V3.4358C10.5804 2.96823 10.2014 2.58918 9.73381 2.58918ZM12.3804 3.96017V3.4358C12.3804 1.97412 11.1955 0.789185 9.73381 0.789185C8.27212 0.789185 7.08719 1.97412 7.08719 3.43581V3.96017H4.96587C2.27892 3.96017 0.100708 6.13837 0.100708 8.82532V19.3924C0.100708 22.0794 2.27892 24.2576 4.96587 24.2576H14.0027C16.6897 24.2576 18.8679 22.0794 18.8679 19.3924V8.82533C18.8679 6.13837 16.6897 3.96017 14.0027 3.96017H12.3804ZM4.96587 5.76017C3.27303 5.76017 1.90071 7.13248 1.90071 8.82532V19.3924C1.90071 21.0853 3.27303 22.4576 4.96587 22.4576H14.0027C15.6956 22.4576 17.0679 21.0853 17.0679 19.3924V8.82533C17.0679 7.13249 15.6956 5.76017 14.0027 5.76017H4.96587ZM4.59202 9.61664C4.59202 9.11959 4.99496 8.71665 5.49202 8.71665H13.4766C13.9736 8.71665 14.3766 9.11959 14.3766 9.61664C14.3766 10.1137 13.9736 10.5166 13.4766 10.5166H5.49202C4.99496 10.5166 4.59202 10.1137 4.59202 9.61664ZM4.59202 13.3161C4.59202 12.8191 4.99496 12.4161 5.49202 12.4161H13.4766C13.9736 12.4161 14.3766 12.8191 14.3766 13.3161C14.3766 13.8132 13.9736 14.2161 13.4766 14.2161H5.49202C4.99496 14.2161 4.59202 13.8132 4.59202 13.3161ZM6.08912 17.0156C6.08912 16.5186 6.49207 16.1156 6.98912 16.1156H11.9795C12.4765 16.1156 12.8795 16.5186 12.8795 17.0156C12.8795 17.5127 12.4765 17.9156 11.9795 17.9156H6.98912C6.49207 17.9156 6.08912 17.5127 6.08912 17.0156Z" fill={(page === "/tasks") ? active : passive}/>
                </svg>
                <h1 style={{ color: (page === "/tasks") ? active : passive }} className="text">Tasks</h1>
            </div>
            <div onClick={() => handleClick("/play")} className="button_area">
                <svg style={{ marginTop: "10px" }} width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10.8041 1.1908C10.8724 1.49248 10.8181 1.80893 10.6532 2.07058C10.4882 2.33224 10.2261 2.51768 9.92448 2.58613C7.98447 3.02848 6.23659 4.07925 4.93594 5.58512C3.63529 7.09099 2.84995 8.97312 2.69451 10.9568C2.53908 12.9406 3.02169 14.9221 4.07193 16.6121C5.12216 18.3022 6.68504 19.6124 8.53248 20.3515C10.3799 21.0906 12.4152 21.2199 14.3414 20.7206C16.2675 20.2213 17.9837 19.1195 19.2394 17.576C20.4951 16.0324 21.2247 14.128 21.3216 12.1405C21.4185 10.1531 20.8777 8.18669 19.7781 6.5283C19.6933 6.40068 19.6345 6.2576 19.605 6.10724C19.5755 5.95688 19.5759 5.80218 19.6062 5.65197C19.6673 5.34862 19.8465 5.08198 20.1042 4.91072C20.362 4.73945 20.6772 4.67759 20.9806 4.73874C21.1308 4.76902 21.2735 4.82859 21.4007 4.91405C21.5279 4.99951 21.637 5.10918 21.7218 5.2368C22.9932 7.14799 23.67 9.393 23.6666 11.6885C23.6666 18.132 18.4435 23.3551 12 23.3551C5.55648 23.3551 0.333313 18.132 0.333313 11.6885C0.333313 6.13513 4.21248 1.48947 9.40881 0.311132C9.71049 0.242836 10.0269 0.297135 10.2886 0.462091C10.5503 0.627047 10.7357 0.889158 10.8041 1.1908ZM13.1666 1.2048C13.1665 1.02979 13.2054 0.856941 13.2804 0.698818C13.3554 0.540695 13.4647 0.401266 13.6003 0.290661C13.7359 0.180056 13.8945 0.101052 14.0645 0.0593889C14.2344 0.0177257 14.4116 0.0144496 14.583 0.0497987L14.7171 0.0859655L18.202 1.24797C18.4851 1.34153 18.7216 1.53993 18.863 1.80244C19.0044 2.06495 19.04 2.37163 18.9623 2.65951C18.8847 2.94739 18.6997 3.19462 18.4455 3.35042C18.1913 3.50623 17.8871 3.55878 17.5953 3.4973L17.4646 3.4623L15.5 2.80663V11.6885C15.4996 12.4214 15.2692 13.1358 14.8411 13.7308C14.4131 14.3258 13.8091 14.7714 13.1142 15.0047C12.4194 15.2381 11.6689 15.2474 10.9684 15.0313C10.268 14.8153 9.65312 14.3849 9.21044 13.8007C8.76776 13.2165 8.51964 12.5081 8.5011 11.7754C8.48256 11.0426 8.69452 10.3226 9.10709 9.71674C9.51966 9.11092 10.112 8.6499 10.8006 8.39873C11.4892 8.14756 12.2392 8.1189 12.945 8.3168L13.1666 8.3868V1.20597V1.2048Z" fill={(page === "/play") ? active : passive}/>
                </svg>
                <h1 style={{ color: (page === "/play") ? active : passive }} className="text">Play</h1>
            </div>
            <div onClick={() => handleClick("/band")} className="button_area">
                <svg style={{ marginTop: "10px" }} width="24" height="22" viewBox="0 0 24 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fillRule="evenodd" clipRule="evenodd" d="M12.0001 2.81408C11.0056 1.88263 9.65734 1.13645 8.17716 0.864576C6.41552 0.541007 4.46748 0.893615 2.77497 2.3883C1.64709 3.38435 0.941524 4.95139 0.707722 6.64474C0.471949 8.35237 0.701543 10.2735 1.54155 12.0538C2.14927 13.3419 3.59604 14.9621 5.09942 16.4536C6.63581 17.9779 8.34646 19.4772 9.59833 20.537C10.9901 21.7151 13.01 21.7151 14.4018 20.537C15.6537 19.4772 17.3643 17.9779 18.9007 16.4536C20.4041 14.9622 21.8509 13.3419 22.4586 12.0539C23.2986 10.2735 23.5282 8.35239 23.2924 6.64476C23.0586 4.9514 22.3531 3.38436 21.2252 2.38831C19.5327 0.893632 17.5846 0.541019 15.823 0.864584C14.3428 1.13645 12.9946 1.88264 12.0001 2.81408ZM7.85199 2.63496C6.57826 2.40101 5.20433 2.64432 3.96647 3.73749C3.24692 4.37294 2.68346 5.49559 2.49081 6.89093C2.30012 8.272 2.48663 9.83858 3.16945 11.2858C3.62417 12.2495 4.84583 13.6665 6.36714 15.1758C7.85544 16.6523 9.52573 18.1172 10.7613 19.1631C11.4819 19.7731 12.5182 19.7731 13.2388 19.1631C14.4744 18.1172 16.1447 16.6523 17.633 15.1758C19.1543 13.6665 20.376 12.2495 20.8307 11.2858C21.5135 9.8386 21.7 8.27202 21.5093 6.89095C21.3167 5.49561 20.7532 4.37296 20.0337 3.73751C18.7958 2.64433 17.4219 2.40102 16.1482 2.63497C14.8438 2.87454 13.6456 3.61887 12.8769 4.49175C12.4125 5.01916 11.5876 5.01916 11.1232 4.49175C10.3546 3.61887 9.15635 2.87454 7.85199 2.63496Z" fill={(page === "/band") ? active : passive}/>
                </svg>
                <h1 style={{ color: (page === "/band") ? active : passive }} className="text">My Band</h1>
            </div>
        </div>
    );
}

export default Navigation;
